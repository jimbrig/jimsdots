'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var Provider = /** @class */ (function () {
    function Provider() {
    }
    Provider.prototype.matchWith = function (input) {
        var _this = this;
        // TODO: Improve filtering with weights
        var suggestions = this.completions.filter(function (val) { return val.includes(input); })
            .map(function (sugg) {
            return { category: _this.category, value: sugg };
        })
            .sort(function (a, b) { return a.value.length - b.value.length; });
        return suggestions;
    };
    return Provider;
}());

var LatexProvider = /** @class */ (function (_super) {
    __extends(LatexProvider, _super);
    function LatexProvider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.category = "L";
        _this.completions = ["\\Arrowvert", "\\Bbbk", "\\Big", "\\Bigg", "\\Biggl", "\\Biggr", "\\Bigl", "\\Bigm", "\\Bigr", "\\Box", "\\Bumpeq", "\\Cap", "\\cite[#{}]{#{}}", "\\cite", "\\Cup", "\\DeclareMathOperator{#{}}{#{}}", "\\Delta", "\\Downarrow", "\\Finv", "\\Game", "\\Gamma", "\\Im", "\\Lambda", "\\Leftarrow", "\\Leftrightarrow", "\\Lleftarrow", "\\Longleftarrow", "\\Longleftrightarrow", "\\Longrightarrow", "\\Lsh", "\\Omega", "\\Phi", "\\Pi", "\\Pr", "\\Psi", "\\Re", "\\Rightarrow", "\\Rrightarrow", "\\Rsh", "\\S", "\\Sigma", "\\Subset", "\\Supset", "\\TeX", "\\Theta", "\\Uparrow", "\\Updownarrow", "\\Upsilon", "\\Vdash", "\\Vert", "\\Vvdash", "\\Xi", "\\above", "\\abovewithdelims", "\\acute{#{}}", "\\aleph", "\\alpha", "\\amalg", "\\angle", "\\approx", "\\approxeq", "\\arccos", "\\arcsin", "\\arctan", "\\arg", "\\arrowvert", "\\ast", "\\asymp", "\\atop",
            "\\atopwithdelims", "\\backepsilon", "\\backprime", "\\backsim", "\\backsimeq", "\\backslash", "\\bar{#{}}", "\\barwedge", "\\because", "\\beta", "\\beth", "\\between", "\\bf", "\\big", "\\bigcap", "\\bigcirc", "\\bigcup", "\\bigg", "\\biggl", "\\biggm", "\\biggr", "\\bigl", "\\bigm", "\\bigodot", "\\bigoplus", "\\bigotimes", "\\bigr\\}", "\\bigsqcup", "\\bigstar", "\\bigtriangledown", "\\bigtriangleup", "\\biguplus", "\\bigvee", "\\bigwedge", "\\binom{#{}}{#{}}", "\\blacklozenge", "\\blacksquare", "\\blacktriangle", "\\blacktriangledown", "\\blacktriangleleft", "\\blacktriangleright", "\\bmod", "\\boldsymbol{#{}}", "\\bot", "\\bowtie", "\\boxdot", "\\boxed{#{}}", "\\boxminus", "\\boxplus", "\\boxtimes", "\\brace", "\\bracevert", "\\brack", "\\breve{#{}}", "\\buildrel", "\\bullet", "\\bumpeq", "\\cal", "\\cap", "\\cases{#{}}", "\\cdot", "\\cdotp", "\\cdots",
            "\\centerdot", "\\cfrac{#{}}{#{}}", "\\check{#{}}", "\\checkmark", "\\chi", "\\choose", "\\circ", "\\circeq", "\\circlearrowleft", "\\circlearrowright", "\\circledS", "\\circledast", "\\circledcirc", "\\circleddash", "\\clubsuit", "\\colon", "\\complement", "\\cong", "\\coprod", "\\cos", "\\cosh", "\\cot", "\\coth", "\\cr", "\\csc", "\\cup", "\\curlyeqprec", "\\curlyeqsucc", "\\curlyvee", "\\curlywedge", "\\curvearrowleft", "\\curvearrowright", "\\dagger", "\\daleth", "\\dashleftarrow", "\\dashrightarrow", "\\dashv", "\\dbinom{#{}}{#{}}", "\\ddagger", "\\ddddot{#{}}", "\\dddot{#{}}", "\\ddot{#{}}", "\\ddots", "\\def", "\\deg", "\\delta", "\\det", "\\dfrac{#{}}{#{}}", "\\diagdown", "\\diagup", "\\diamond", "\\diamondsuit", "\\digamma", "\\dim", "\\displaylines", "\\displaystyle", "\\div", "\\divideontimes", "\\dot{#{}}", "\\doteq", "\\doteqdot", "\\dotplus",
            "\\dots", "\\dotsb", "\\dotsc", "\\dotsi", "\\dotsm", "\\dotso", "\\doublebarwedge", "\\downarrow", "\\downdownarrows", "\\downharpoonleft", "\\downharpoonright", "\\ell", "\\emptyset", "\\enspace", "\\epsilon", "\\eqalign{#{}}", "\\eqalignno{#{}}", "\\eqcirc", "\\eqref{#{}}", "\\eqsim", "\\eqslantgtr", "\\eqslantless", "\\equiv", "\\eta", "\\eth", "\\exists", "\\exp", "\\fallingdotseq", "\\flat", "\\forall", "\\frown", "\\gamma", "\\gcd", "\\ge", "\\geq", "\\geqq", "\\geqslant", "\\gets", "\\gg", "\\ggg", "\\gimel", "\\gnapprox", "\\gneq", "\\gneqq", "\\gnsim", "\\grave{#{}}", "\\gtrapprox", "\\gtrdot", "\\gtreqless", "\\gtreqqless", "\\gtrless", "\\gtrsim", "\\gvertneqq", "\\hat{#{}}", "\\hbar", "\\hbox", "\\heartsuit", "\\hfil", "\\hfill", "\\hom", "\\hookleftarrow", "\\hookrightarrow", "\\hphantom{#{}}", "\\hskip", "\\hslash", "\\idotsint", "\\iff",
            "\\iiiint", "\\iiint", "\\iint", "\\imath", "\\impliedby", "\\implies", "\\in", "\\inf", "\\infty", "\\injlim", "\\int\\limits_{#{}}^{#{}}", "\\intercal", "\\iota", "\\it", "\\jmath", "\\kappa", "\\ker", "\\kern", "\\lVert", "\\lambda", "\\land", "\\langle", "\\lbrace", "\\lbrack", "\\lceil", "\\ldotp", "\\ldots", "\\le", "\\left", "\\leftarrow", "\\leftarrowtail", "\\leftharpoondown", "\\leftharpoonup", "\\leftleftarrows", "\\leftrightarrow", "\\leftrightarrows", "\\leftrightharpoons", "\\leftrightsquigarrow", "\\leftroot{#{}}", "\\leftthreetimes", "\\leq", "\\leqalignno{#{}}", "\\leqq", "\\leqslant", "\\lessapprox", "\\lessdot", "\\lesseqgtr", "\\lesseqqgtr", "\\lessgtr", "\\lesssim", "\\let{#{}}{#{}}", "\\lfloor", "\\lg", "\\lgroup", "\\lhd", "\\lim", "\\liminf", "\\limits_{#{}}^{#{}}", "\\limsup", "\\ll", "\\llap{#{}}", "\\llcorner", "\\lll", "\\lmoustache",
            "\\ln", "\\lnapprox", "\\lneq", "\\lneqq", "\\lnot", "\\lnsim", "\\log", "\\longleftarrow", "\\longleftrightarrow", "\\longmapsto", "\\longrightarrow", "\\looparrowleft", "\\looparrowright", "\\lor", "\\lower", "\\lozenge", "\\lrcorner", "\\ltimes", "\\lvert", "\\lvertneqq", "\\maltese", "\\mapsto", "\\mathbb{#{}}", "\\mathbf{#{}}", "\\mathbin", "\\mathcal{#{}}", "\\mathchoice", "\\mathclose", "\\mathfrak{#{}}", "\\mathinner", "\\mathop", "\\mathopen", "\\mathord", "\\mathpunct", "\\mathrel", "\\mathstrut", "\\matrix{#{}}", "\\max", "\\measuredangle", "\\mho", "\\mid", "\\middle", "\\min", "\\mit", "\\mkern", "\\mod", "\\models", "\\moveleft", "\\moveright", "\\mp", "\\mskip", "\\mspace{#{}}", "\\mu", "\\multimap", "\\nLeftarrow", "\\nLeftrightarrow", "\\nRightarrow", "\\nVDash", "\\nVdash", "\\nabla", "\\natural", "\\ncong", "\\ne", "\\nearrow", "\\neg", "\\negmedspace",
            "\\negthickspace", "\\negthinspace", "\\neq", "\\nexists", "\\ngeq", "\\ngeqq", "\\ngeqslant", "\\ngtr", "\\ni", "\\nleftarrow", "\\nleftrightarrow", "\\nleq", "\\nleqq", "\\nleqslant", "\\nless", "\\nmid", "\\nolimits_{#{}}^{#{}}", "\\not", "\\notag", "\\notin", "\\nparallel", "\\nprec", "\\npreceq", "\\nrightarrow", "\\nshortmid", "\\nshortparallel", "\\nsim", "\\nsubseteq", "\\nsubseteqq", "\\nsucc", "\\nsucceq", "\\nsupseteq", "\\nsupseteqq", "\\ntriangleleft", "\\ntrianglelefteq", "\\ntriangleright", "\\ntrianglerighteq", "\\nu", "\\nvDash", "\\nvdash", "\\nwarrow", "\\odot", "\\oint", "\\oldstyle", "\\omega", "\\ominus", "\\operatorname{#{}}", "\\oplus", "\\oslash", "\\otimes", "\\over", "\\overbrace{#{}}", "\\overleftarrow{#{}}", "\\overleftrightarrow{#{}}", "\\overline{#{}}", "\\overrightarrow{#{}}", "\\overset{#{}}{#{}}", "\\overwithdelims", "\\owns",
            "\\parallel", "\\partial", "\\perp", "\\phantom{#{}}", "\\phi", "\\pi", "\\pitchfork", "\\pm", "\\pmatrix{#{}}", "\\pmb{#{}}", "\\pmod", "\\pod", "\\prec", "\\precapprox", "\\preccurlyeq", "\\preceq", "\\precnapprox", "\\precneqq", "\\precnsim", "\\precsim", "\\prime", "\\prod\\limits_{#{}}^{#{}}", "\\projlim", "\\propto", "\\psi", "\\qquad", "\\quad", "\\rVert", "\\raise", "\\rangle", "\\rbrace", "\\rbrack", "\\rceil", "\\rfloor", "\\rgroup", "\\rhd", "\\rho", "\\right", "\\rightarrow", "\\rightarrowtail", "\\rightharpoondown", "\\rightharpoonup", "\\rightleftarrows", "\\rightleftharpoons", "\\rightrightarrows", "\\rightsquigarrow", "\\rightthreetimes", "\\risingdotseq", "\\rlap{#{}}", "\\rm", "\\rmoustache", "\\root #{} \\of #{}", "\\rtimes", "\\rvert", "\\scriptscriptstyle", "\\scriptstyle", "\\searrow", "\\sec", "\\setminus", "\\sharp", "\\shortmid",
            "\\shortparallel", "\\sideset{#{}}{#{}}{#{}}", "\\sigma", "\\sim", "\\simeq", "\\sin", "\\sinh", "\\skew{#{}}{#{}}{#{}}", "\\smallfrown", "\\smallint", "\\smallsetminus", "\\smallsmile", "\\smash{#{}}", "\\smile", "\\space", "\\spadesuit", "\\sphericalangle", "\\sqcap", "\\sqcup", "\\sqrt{#{}}", "\\sqsubset", "\\sqsubseteq", "\\sqsupset", "\\sqsupseteq", "\\square", "\\star", "\\strut", "\\subset", "\\subseteq", "\\subseteqq", "\\subsetneq", "\\subsetneqq", "\\substack{#{}}", "\\succ", "\\succapprox", "\\succcurlyeq", "\\succeq", "\\succnapprox", "\\succneqq", "\\succnsim", "\\succsim", "\\sum\\limits_{#{}}^{#{}}", "\\sup", "\\supset", "\\supseteq", "\\supseteqq", "\\supsetneq", "\\supsetneqq", "\\surd", "\\swarrow", "\\tag{#{}}", "\\tan", "\\tanh", "\\tau", "\\tbinom{#{}}{#{}}", "\\text{#{}}", "\\textstyle", "\\tfrac{#{}}{#{}}", "\\therefore", "\\theta",
            "\\thickapprox", "\\thicksim", "\\thinspace", "\\tilde{#{}}", "\\times", "\\to", "\\top", "\\triangle", "\\triangledown", "\\triangleleft", "\\trianglelefteq", "\\triangleq", "\\triangleright", "\\trianglerighteq", "\\tt", "\\twoheadleftarrow", "\\twoheadrightarrow", "\\ulcorner", "\\underbrace{#{}}", "\\underleftarrow{#{}}", "\\underleftrightarrow{#{}}", "\\underline{#{}}", "\\underrightarrow{#{}}", "\\underset{#{}}{#{}}", "\\unlhd", "\\unrhd", "\\uparrow", "\\updownarrow", "\\upharpoonleft", "\\upharpoonright", "\\uplus", "\\uproot{#{}}", "\\upsilon", "\\upuparrows", "\\urcorner", "\\vDash", "\\varDelta", "\\varGamma", "\\varLambda", "\\varOmega", "\\varPhi", "\\varPi", "\\varPsi", "\\varSigma", "\\varTheta", "\\varUpsilon", "\\varXi", "\\varepsilon", "\\varinjlim", "\\varkappa", "\\varliminf", "\\varlimsup", "\\varnothing", "\\varphi", "\\varpi",
            "\\varprojlim", "\\varpropto", "\\varrho", "\\varsigma", "\\varsubsetneq", "\\varsubsetneqq", "\\varsupsetneq", "\\varsupsetneqq", "\\vartheta", "\\vartriangle", "\\vartriangleleft", "\\vartriangleright", "\\vcenter", "\\vdash", "\\vec{#{}}", "\\vee", "\\veebar", "\\vert", "\\vphantom{#{}}", "\\wedge", "\\widehat{#{}}", "\\widetilde{#{}}", "\\wp", "\\wr", "\\xi", "\\xleftarrow{#{}}", "\\xrightarrow{#{}}", "\\zeta", "\\begin{definition}", "\\begin{tikzcd}", "\\begin{tikzpicture}", "\\begin{align}", "\\begin{align*}", "\\begin{alignat}", "\\begin{alignat*}", "\\begin{aligned}", "\\begin{alignedat}", "\\begin{array}", "\\begin{Bmatrix}", "\\begin{bmatrix}", "\\begin{cases}", "\\begin{CD}", "\\begin{eqnarray}", "\\begin{eqnarray*}", "\\begin{equation}", "\\begin{equation*}", "\\begin{gather}", "\\begin{gather*}", "\\begin{gathered}", "\\begin{matrix}",
            "\\begin{multline}", "\\begin{multline*}", "\\begin{pmatrix}", "\\begin{smallmatrix}", "\\begin{split}", "\\begin{subarray}", "\\begin{Vmatrix}", "\\begin{vmatrix}"];
        return _this;
    }
    return LatexProvider;
}(Provider));

// TODO: Refactor business logic into module
var AutocompleteView = /** @class */ (function () {
    function AutocompleteView() {
        this.show = false;
        this.suggestions = [];
        this.providers = [new LatexProvider()];
        this.selected = { index: 0, direction: "still" };
    }
    AutocompleteView.prototype.isShown = function () {
        return this.show;
    };
    AutocompleteView.prototype.showView = function (editor) {
        this.addKeybindings(editor);
        this.cursorAtTrigger = editor.getCursor();
        this.show = true;
    };
    AutocompleteView.prototype.removeView = function (editor) {
        this.show = false;
        this.cursorAtTrigger = null;
        this.selected = { index: 0, direction: "still" };
        this.addKeybindings(editor, false);
        this.destroyView(editor);
    };
    AutocompleteView.prototype.getView = function (currentLine, editor) {
        if (!this.show)
            return;
        var text = this.completionWord(currentLine, editor.getCursor());
        var shouldRerender = false;
        if (text !== this.currentText) {
            this.currentText = text;
            shouldRerender = true;
            this.suggestions = this.providers.reduce(function (acc, provider) {
                return acc.concat(provider.matchWith(text));
            }, []);
            this.selected = { index: 0, direction: "still" };
        }
        var cachedView = false;
        if (!this.view || shouldRerender) {
            this.destroyView(editor);
            var view = this.generateView(this.suggestions);
            this.addClickListener(view, editor);
            this.view = view;
        }
        else if (this.view.firstElementChild) {
            cachedView = true;
            var children = this.view.firstElementChild.children;
            var selectedIndex = this.selected.index;
            for (var index = 0; index < children.length; index++) {
                var child = children[index];
                child.toggleClass('is-selected', index === selectedIndex);
            }
        }
        return cachedView ? null : this.view;
    };
    AutocompleteView.prototype.scrollToSelected = function () {
        if (!this.view || this.suggestions.length === 0)
            return;
        // TODO: Improve scrolling with page size and boundaries
        var parent = this.view.children[0];
        var selectedIndex = this.selected.index;
        var child = parent.children[0];
        if (child) {
            var scrollAmount = child.scrollHeight * selectedIndex;
            switch (this.selected.direction) {
                case "forward":
                    if (selectedIndex === 0) // End -> Start
                        parent.scrollTop = 0;
                    else
                        parent.scrollTop = scrollAmount;
                    break;
                case "backward":
                    if (selectedIndex === (this.suggestions.length - 1)) // End <- Start
                        parent.scrollTop = parent.scrollHeight;
                    else
                        parent.scrollTop = scrollAmount;
                    break;
            }
        }
    };
    AutocompleteView.prototype.selectNext = function () {
        var increased = this.selected.index + 1;
        this.selected = {
            index: increased >= this.suggestions.length ? 0 : increased,
            direction: "forward"
        };
    };
    AutocompleteView.prototype.selectPrevious = function () {
        var decreased = this.selected.index - 1;
        this.selected = {
            index: decreased < 0 ? this.suggestions.length - 1 : decreased,
            direction: "backward"
        };
    };
    AutocompleteView.prototype.selectSuggestion = function (editor) {
        var cursor = editor.getCursor();
        var _a = this.getSelectedAndPosition(cursor), selected = _a[0], replaceFrom = _a[1], replaceTo = _a[2];
        editor.operation(function () {
            editor.replaceRange(selected, replaceFrom, replaceTo);
            var newCursorPosition = replaceFrom.ch + selected.length;
            var updatedCursor = {
                line: cursor.line,
                ch: newCursorPosition
            };
            editor.setCursor(updatedCursor);
        });
        this.removeView(editor);
        editor.focus();
    };
    AutocompleteView.prototype.addKeybindings = function (editor, add) {
        var _this = this;
        if (add === void 0) { add = true; }
        if (!this.keymaps)
            this.keymaps = {
                // Override keymaps but manage them into "keyup" event
                // Because need to update selectedIndex right before updating view
                "Ctrl-P": function () { },
                "Ctrl-N": function () { },
                Down: function () { },
                Up: function () { },
                Enter: function (editor) {
                    _this.selectSuggestion(editor);
                    _this.addKeybindings(editor, false);
                },
                Esc: function (editor) {
                    _this.removeView(editor);
                    _this.addKeybindings(editor, false);
                    if (editor.getOption('keyMap') === 'vim-insert')
                        editor.operation(function () {
                            // https://github.com/codemirror/CodeMirror/blob/bd37a96d362b8d92895d3960d569168ec39e4165/keymap/vim.js#L5341
                            var vim = editor.state.vim;
                            vim.insertMode = false;
                            editor.setOption('keyMap', 'vim');
                        });
                }
            };
        if (add)
            editor.addKeyMap(this.keymaps);
        else // Remove needs object reference
            editor.removeKeyMap(this.keymaps);
    };
    // TODO: Refactor
    AutocompleteView.prototype.addClickListener = function (view, editor, add) {
        var _this = this;
        if (add === void 0) { add = true; }
        if (!this.onClickCallback)
            this.onClickCallback = function (event) {
                var element = event.target;
                var hintId = element.id;
                if (!hintId) {
                    var parent_1 = element.parentNode;
                    if (parent_1 && parent_1.id)
                        hintId = parent_1.id;
                }
                var hintIdPrefix = 'suggestion-';
                if (hintId && hintId.startsWith(hintIdPrefix)) {
                    hintId = hintId.replace(hintIdPrefix, '');
                    var id = parseInt(hintId);
                    if (id && id > 0 && id < _this.suggestions.length) {
                        _this.selected.index = id;
                        _this.selectSuggestion(editor);
                    }
                }
            };
        if (add)
            view.addEventListener('click', this.onClickCallback);
        else
            view.removeEventListener('click', this.onClickCallback);
        return view;
    };
    AutocompleteView.prototype.getSelectedAndPosition = function (cursor) {
        var textEndIndex = cursor.ch;
        var updatedCursorFrom = {
            line: this.cursorAtTrigger.line,
            ch: this.cursorAtTrigger.ch
        };
        var updatedCursorTo = {
            line: this.cursorAtTrigger.line,
            ch: textEndIndex
        };
        var selected = this.suggestions[this.selected.index];
        return [selected.value, updatedCursorFrom, updatedCursorTo];
    };
    AutocompleteView.prototype.destroyView = function (editor) {
        if (!this.view)
            return;
        this.addClickListener(this.view, editor, false);
        try {
            var parentNode = this.view.parentNode;
            if (parentNode) {
                var removed = parentNode.removeChild(this.view);
                if (removed)
                    this.view = null;
            }
        }
        catch (e) {
            console.error("Cannot destroy view. Reason: " + e);
        }
    };
    AutocompleteView.prototype.generateView = function (suggestions) {
        var selectedIndex = this.selected.index;
        var suggestionsHtml = suggestions.map(function (tip, index) {
            var isSelected = selectedIndex === index;
            return "\n        <div id=\"suggestion-" + index + "\" class=\"no-space-wrap suggestion-item" + (isSelected ? ' is-selected' : '') + "\">\n          <div id=\"suggestion-" + index + "\" class=\"suggestion-content\">\n          <span class=\"suggestion-flair\">" + tip.category + "</span>\n          " + tip.value + "\n          </div>\n        </div>\n      ";
        }, []);
        var viewString = "\n      <div id=\"suggestion-list\" class=\"suggestion\">\n        " + suggestionsHtml.join('\n') + "\n      </div>\n      <div class=\"prompt-instructions\">\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Ctrl+N</span>\n          <span>Next Suggestion</span>\n        </div>\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Ctrl+P</span>\n          <span>Previous Suggestion</span>\n        </div>\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Enter</span>\n          <span>Select Suggestion</span>\n        </div>\n      </div>\n    ";
        var containerNode = document.createElement("div");
        if (suggestionsHtml.length > 0) {
            containerNode.addClass("suggestion-container");
            containerNode.insertAdjacentHTML('beforeend', viewString);
        }
        return containerNode;
    };
    AutocompleteView.prototype.completionWord = function (currentLine, cursor) {
        var word = currentLine.substring(this.cursorAtTrigger.ch, cursor.ch);
        return word;
    };
    return AutocompleteView;
}());

var AutocompletePlugin = /** @class */ (function (_super) {
    __extends(AutocompletePlugin, _super);
    function AutocompletePlugin() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AutocompletePlugin.prototype.onload = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                console.log('Loading Obsidian Autocomplete...');
                this.autocompleteView = new AutocompleteView();
                this.addCommand({
                    id: 'autocomplete-toggle',
                    name: 'Toggle Autocomplete',
                    hotkeys: [{
                            modifiers: ["Ctrl"],
                            key: " "
                        }],
                    callback: function () {
                        var editor = _this.getCurrentEditor();
                        if (editor) {
                            var autocomplete = _this.autocompleteView;
                            _this.updateEditorIfChanged(editor, autocomplete);
                            // Do not open on vim normal mode
                            if (editor.getOption('keyMap') === 'vim')
                                return;
                            if (autocomplete.isShown())
                                autocomplete.removeView(editor);
                            else
                                autocomplete.showView(editor);
                        }
                    }
                });
                this.keyupListener = function (cm, event) {
                    var autocomplete = _this.autocompleteView;
                    _this.updateEditorIfChanged(cm, autocomplete);
                    var cursor = cm.getCursor();
                    var currentLineNumber = cursor.line;
                    var currentLine = cm.getLine(currentLineNumber);
                    // Need to update previous/next state here,
                    // otherwise the view is not updated correctly
                    // (Because I'm trying to cache it)
                    // Missing pattern matching with arrays :(
                    switch (event.ctrlKey + " " + event.key) {
                        case "true p":
                            autocomplete.selectPrevious();
                            break;
                        case "true n":
                            autocomplete.selectNext();
                            break;
                        case "false ArrowUp":
                            autocomplete.selectPrevious();
                            break;
                        case "false ArrowDown":
                            autocomplete.selectNext();
                            break;
                    }
                    var autocompleteView = autocomplete.getView(currentLine, cm);
                    if (autocompleteView)
                        _this.appendWidget(cm, autocompleteView);
                    autocomplete.scrollToSelected();
                };
                this.registerCodeMirror(function (editor) {
                    editor.on('keyup', _this.keyupListener);
                });
                return [2 /*return*/];
            });
        });
    };
    AutocompletePlugin.prototype.onunload = function () {
        return __awaiter(this, void 0, void 0, function () {
            var workspace;
            var _this = this;
            return __generator(this, function (_a) {
                workspace = this.app.workspace;
                workspace.iterateCodeMirrors(function (cm) {
                    cm.off('keyup', _this.keyupListener);
                    _this.autocompleteView.removeView(cm);
                });
                console.log('Unloaded Obsidian Autocomplete');
                return [2 /*return*/];
            });
        });
    };
    AutocompletePlugin.prototype.updateEditorIfChanged = function (editor, autocomplete) {
        if (!this.lastUsedEditor)
            this.lastUsedEditor = editor;
        if (editor !== this.lastUsedEditor) {
            autocomplete.removeView(this.lastUsedEditor);
            this.lastUsedEditor = editor;
        }
    };
    AutocompletePlugin.prototype.appendWidget = function (editor, view, scrollable) {
        if (scrollable === void 0) { scrollable = true; }
        var cursor = editor.getCursor();
        editor.addWidget({ ch: cursor.ch, line: cursor.line }, view, scrollable);
    };
    AutocompletePlugin.prototype.getCurrentEditor = function () {
        var view = this.app.workspace.getActiveViewOfType(obsidian.MarkdownView);
        return view ? view.sourceMode.cmEditor : null;
    };
    return AutocompletePlugin;
}(obsidian.Plugin));

module.exports = AutocompletePlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uL3NyYy9wcm92aWRlcnMvcHJvdmlkZXIudHMiLCIuLi9zcmMvcHJvdmlkZXJzL2xhdGV4LnRzIiwiLi4vc3JjL2F1dG9jb21wbGV0ZS50cyIsIi4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQcm92aWRlciB7XG4gIGFic3RyYWN0IHJlYWRvbmx5IGNhdGVnb3J5OiBzdHJpbmdcbiAgYWJzdHJhY3QgcmVhZG9ubHkgY29tcGxldGlvbnM6IEFycmF5PHN0cmluZz5cblxuICBtYXRjaFdpdGgoaW5wdXQ6IHN0cmluZyk6IENvbXBsZXRpb25bXSB7XG4gICAgLy8gVE9ETzogSW1wcm92ZSBmaWx0ZXJpbmcgd2l0aCB3ZWlnaHRzXG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB0aGlzLmNvbXBsZXRpb25zLmZpbHRlcih2YWwgPT4gdmFsLmluY2x1ZGVzKGlucHV0KSlcbiAgICAgIC5tYXAoc3VnZyA9PiB7XG4gICAgICAgIHJldHVybiB7Y2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksIHZhbHVlOiBzdWdnfVxuICAgICAgfSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnZhbHVlLmxlbmd0aCAtIGIudmFsdWUubGVuZ3RoKVxuXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uIHtcbiAgY2F0ZWdvcnk6IHN0cmluZyxcbiAgdmFsdWU6IHN0cmluZ1xufVxuIiwiaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAnLi9wcm92aWRlcidcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhdGV4UHJvdmlkZXIgZXh0ZW5kcyBQcm92aWRlciB7XG4gICAgY2F0ZWdvcnkgPSBcIkxcIlxuICAgIGNvbXBsZXRpb25zID0gW1wiXFxcXEFycm93dmVydFwiLCBcIlxcXFxCYmJrXCIsIFwiXFxcXEJpZ1wiLCBcIlxcXFxCaWdnXCIsIFwiXFxcXEJpZ2dsXCIsIFwiXFxcXEJpZ2dyXCIsIFwiXFxcXEJpZ2xcIiwgXCJcXFxcQmlnbVwiLCBcIlxcXFxCaWdyXCIsIFwiXFxcXEJveFwiLCBcIlxcXFxCdW1wZXFcIiwgXCJcXFxcQ2FwXCIsIFwiXFxcXGNpdGVbI3t9XXsje319XCIsIFwiXFxcXGNpdGVcIiwgXCJcXFxcQ3VwXCIsIFwiXFxcXERlY2xhcmVNYXRoT3BlcmF0b3J7I3t9fXsje319XCIsIFwiXFxcXERlbHRhXCIsIFwiXFxcXERvd25hcnJvd1wiLCBcIlxcXFxGaW52XCIsIFwiXFxcXEdhbWVcIiwgXCJcXFxcR2FtbWFcIiwgXCJcXFxcSW1cIiwgXCJcXFxcTGFtYmRhXCIsIFwiXFxcXExlZnRhcnJvd1wiLCBcIlxcXFxMZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxMbGVmdGFycm93XCIsIFwiXFxcXExvbmdsZWZ0YXJyb3dcIiwgXCJcXFxcTG9uZ2xlZnRyaWdodGFycm93XCIsIFwiXFxcXExvbmdyaWdodGFycm93XCIsIFwiXFxcXExzaFwiLCBcIlxcXFxPbWVnYVwiLCBcIlxcXFxQaGlcIiwgXCJcXFxcUGlcIiwgXCJcXFxcUHJcIiwgXCJcXFxcUHNpXCIsIFwiXFxcXFJlXCIsIFwiXFxcXFJpZ2h0YXJyb3dcIiwgXCJcXFxcUnJpZ2h0YXJyb3dcIiwgXCJcXFxcUnNoXCIsIFwiXFxcXFNcIiwgXCJcXFxcU2lnbWFcIiwgXCJcXFxcU3Vic2V0XCIsIFwiXFxcXFN1cHNldFwiLCBcIlxcXFxUZVhcIiwgXCJcXFxcVGhldGFcIiwgXCJcXFxcVXBhcnJvd1wiLCBcIlxcXFxVcGRvd25hcnJvd1wiLCBcIlxcXFxVcHNpbG9uXCIsIFwiXFxcXFZkYXNoXCIsIFwiXFxcXFZlcnRcIiwgXCJcXFxcVnZkYXNoXCIsIFwiXFxcXFhpXCIsIFwiXFxcXGFib3ZlXCIsIFwiXFxcXGFib3Zld2l0aGRlbGltc1wiLCBcIlxcXFxhY3V0ZXsje319XCIsIFwiXFxcXGFsZXBoXCIsIFwiXFxcXGFscGhhXCIsIFwiXFxcXGFtYWxnXCIsIFwiXFxcXGFuZ2xlXCIsIFwiXFxcXGFwcHJveFwiLCBcIlxcXFxhcHByb3hlcVwiLCBcIlxcXFxhcmNjb3NcIiwgXCJcXFxcYXJjc2luXCIsIFwiXFxcXGFyY3RhblwiLCBcIlxcXFxhcmdcIiwgXCJcXFxcYXJyb3d2ZXJ0XCIsIFwiXFxcXGFzdFwiLCBcIlxcXFxhc3ltcFwiLCBcIlxcXFxhdG9wXCIsXG4gICAgICAgIFwiXFxcXGF0b3B3aXRoZGVsaW1zXCIsIFwiXFxcXGJhY2tlcHNpbG9uXCIsIFwiXFxcXGJhY2twcmltZVwiLCBcIlxcXFxiYWNrc2ltXCIsIFwiXFxcXGJhY2tzaW1lcVwiLCBcIlxcXFxiYWNrc2xhc2hcIiwgXCJcXFxcYmFyeyN7fX1cIiwgXCJcXFxcYmFyd2VkZ2VcIiwgXCJcXFxcYmVjYXVzZVwiLCBcIlxcXFxiZXRhXCIsIFwiXFxcXGJldGhcIiwgXCJcXFxcYmV0d2VlblwiLCBcIlxcXFxiZlwiLCBcIlxcXFxiaWdcIiwgXCJcXFxcYmlnY2FwXCIsIFwiXFxcXGJpZ2NpcmNcIiwgXCJcXFxcYmlnY3VwXCIsIFwiXFxcXGJpZ2dcIiwgXCJcXFxcYmlnZ2xcIiwgXCJcXFxcYmlnZ21cIiwgXCJcXFxcYmlnZ3JcIiwgXCJcXFxcYmlnbFwiLCBcIlxcXFxiaWdtXCIsIFwiXFxcXGJpZ29kb3RcIiwgXCJcXFxcYmlnb3BsdXNcIiwgXCJcXFxcYmlnb3RpbWVzXCIsIFwiXFxcXGJpZ3JcXFxcfVwiLCBcIlxcXFxiaWdzcWN1cFwiLCBcIlxcXFxiaWdzdGFyXCIsIFwiXFxcXGJpZ3RyaWFuZ2xlZG93blwiLCBcIlxcXFxiaWd0cmlhbmdsZXVwXCIsIFwiXFxcXGJpZ3VwbHVzXCIsIFwiXFxcXGJpZ3ZlZVwiLCBcIlxcXFxiaWd3ZWRnZVwiLCBcIlxcXFxiaW5vbXsje319eyN7fX1cIiwgXCJcXFxcYmxhY2tsb3plbmdlXCIsIFwiXFxcXGJsYWNrc3F1YXJlXCIsIFwiXFxcXGJsYWNrdHJpYW5nbGVcIiwgXCJcXFxcYmxhY2t0cmlhbmdsZWRvd25cIiwgXCJcXFxcYmxhY2t0cmlhbmdsZWxlZnRcIiwgXCJcXFxcYmxhY2t0cmlhbmdsZXJpZ2h0XCIsIFwiXFxcXGJtb2RcIiwgXCJcXFxcYm9sZHN5bWJvbHsje319XCIsIFwiXFxcXGJvdFwiLCBcIlxcXFxib3d0aWVcIiwgXCJcXFxcYm94ZG90XCIsIFwiXFxcXGJveGVkeyN7fX1cIiwgXCJcXFxcYm94bWludXNcIiwgXCJcXFxcYm94cGx1c1wiLCBcIlxcXFxib3h0aW1lc1wiLCBcIlxcXFxicmFjZVwiLCBcIlxcXFxicmFjZXZlcnRcIiwgXCJcXFxcYnJhY2tcIiwgXCJcXFxcYnJldmV7I3t9fVwiLCBcIlxcXFxidWlsZHJlbFwiLCBcIlxcXFxidWxsZXRcIiwgXCJcXFxcYnVtcGVxXCIsIFwiXFxcXGNhbFwiLCBcIlxcXFxjYXBcIiwgXCJcXFxcY2FzZXN7I3t9fVwiLCBcIlxcXFxjZG90XCIsIFwiXFxcXGNkb3RwXCIsIFwiXFxcXGNkb3RzXCIsXG4gICAgICAgIFwiXFxcXGNlbnRlcmRvdFwiLCBcIlxcXFxjZnJhY3sje319eyN7fX1cIiwgXCJcXFxcY2hlY2t7I3t9fVwiLCBcIlxcXFxjaGVja21hcmtcIiwgXCJcXFxcY2hpXCIsIFwiXFxcXGNob29zZVwiLCBcIlxcXFxjaXJjXCIsIFwiXFxcXGNpcmNlcVwiLCBcIlxcXFxjaXJjbGVhcnJvd2xlZnRcIiwgXCJcXFxcY2lyY2xlYXJyb3dyaWdodFwiLCBcIlxcXFxjaXJjbGVkU1wiLCBcIlxcXFxjaXJjbGVkYXN0XCIsIFwiXFxcXGNpcmNsZWRjaXJjXCIsIFwiXFxcXGNpcmNsZWRkYXNoXCIsIFwiXFxcXGNsdWJzdWl0XCIsIFwiXFxcXGNvbG9uXCIsIFwiXFxcXGNvbXBsZW1lbnRcIiwgXCJcXFxcY29uZ1wiLCBcIlxcXFxjb3Byb2RcIiwgXCJcXFxcY29zXCIsIFwiXFxcXGNvc2hcIiwgXCJcXFxcY290XCIsIFwiXFxcXGNvdGhcIiwgXCJcXFxcY3JcIiwgXCJcXFxcY3NjXCIsIFwiXFxcXGN1cFwiLCBcIlxcXFxjdXJseWVxcHJlY1wiLCBcIlxcXFxjdXJseWVxc3VjY1wiLCBcIlxcXFxjdXJseXZlZVwiLCBcIlxcXFxjdXJseXdlZGdlXCIsIFwiXFxcXGN1cnZlYXJyb3dsZWZ0XCIsIFwiXFxcXGN1cnZlYXJyb3dyaWdodFwiLCBcIlxcXFxkYWdnZXJcIiwgXCJcXFxcZGFsZXRoXCIsIFwiXFxcXGRhc2hsZWZ0YXJyb3dcIiwgXCJcXFxcZGFzaHJpZ2h0YXJyb3dcIiwgXCJcXFxcZGFzaHZcIiwgXCJcXFxcZGJpbm9teyN7fX17I3t9fVwiLCBcIlxcXFxkZGFnZ2VyXCIsIFwiXFxcXGRkZGRvdHsje319XCIsIFwiXFxcXGRkZG90eyN7fX1cIiwgXCJcXFxcZGRvdHsje319XCIsIFwiXFxcXGRkb3RzXCIsIFwiXFxcXGRlZlwiLCBcIlxcXFxkZWdcIiwgXCJcXFxcZGVsdGFcIiwgXCJcXFxcZGV0XCIsIFwiXFxcXGRmcmFjeyN7fX17I3t9fVwiLCBcIlxcXFxkaWFnZG93blwiLCBcIlxcXFxkaWFndXBcIiwgXCJcXFxcZGlhbW9uZFwiLCBcIlxcXFxkaWFtb25kc3VpdFwiLCBcIlxcXFxkaWdhbW1hXCIsIFwiXFxcXGRpbVwiLCBcIlxcXFxkaXNwbGF5bGluZXNcIiwgXCJcXFxcZGlzcGxheXN0eWxlXCIsIFwiXFxcXGRpdlwiLCBcIlxcXFxkaXZpZGVvbnRpbWVzXCIsIFwiXFxcXGRvdHsje319XCIsIFwiXFxcXGRvdGVxXCIsIFwiXFxcXGRvdGVxZG90XCIsIFwiXFxcXGRvdHBsdXNcIixcbiAgICAgICAgXCJcXFxcZG90c1wiLCBcIlxcXFxkb3RzYlwiLCBcIlxcXFxkb3RzY1wiLCBcIlxcXFxkb3RzaVwiLCBcIlxcXFxkb3RzbVwiLCBcIlxcXFxkb3Rzb1wiLCBcIlxcXFxkb3VibGViYXJ3ZWRnZVwiLCBcIlxcXFxkb3duYXJyb3dcIiwgXCJcXFxcZG93bmRvd25hcnJvd3NcIiwgXCJcXFxcZG93bmhhcnBvb25sZWZ0XCIsIFwiXFxcXGRvd25oYXJwb29ucmlnaHRcIiwgXCJcXFxcZWxsXCIsIFwiXFxcXGVtcHR5c2V0XCIsIFwiXFxcXGVuc3BhY2VcIiwgXCJcXFxcZXBzaWxvblwiLCBcIlxcXFxlcWFsaWdueyN7fX1cIiwgXCJcXFxcZXFhbGlnbm5veyN7fX1cIiwgXCJcXFxcZXFjaXJjXCIsIFwiXFxcXGVxcmVmeyN7fX1cIiwgXCJcXFxcZXFzaW1cIiwgXCJcXFxcZXFzbGFudGd0clwiLCBcIlxcXFxlcXNsYW50bGVzc1wiLCBcIlxcXFxlcXVpdlwiLCBcIlxcXFxldGFcIiwgXCJcXFxcZXRoXCIsIFwiXFxcXGV4aXN0c1wiLCBcIlxcXFxleHBcIiwgXCJcXFxcZmFsbGluZ2RvdHNlcVwiLCBcIlxcXFxmbGF0XCIsIFwiXFxcXGZvcmFsbFwiLCBcIlxcXFxmcm93blwiLCBcIlxcXFxnYW1tYVwiLCBcIlxcXFxnY2RcIiwgXCJcXFxcZ2VcIiwgXCJcXFxcZ2VxXCIsIFwiXFxcXGdlcXFcIiwgXCJcXFxcZ2Vxc2xhbnRcIiwgXCJcXFxcZ2V0c1wiLCBcIlxcXFxnZ1wiLCBcIlxcXFxnZ2dcIiwgXCJcXFxcZ2ltZWxcIiwgXCJcXFxcZ25hcHByb3hcIiwgXCJcXFxcZ25lcVwiLCBcIlxcXFxnbmVxcVwiLCBcIlxcXFxnbnNpbVwiLCBcIlxcXFxncmF2ZXsje319XCIsIFwiXFxcXGd0cmFwcHJveFwiLCBcIlxcXFxndHJkb3RcIiwgXCJcXFxcZ3RyZXFsZXNzXCIsIFwiXFxcXGd0cmVxcWxlc3NcIiwgXCJcXFxcZ3RybGVzc1wiLCBcIlxcXFxndHJzaW1cIiwgXCJcXFxcZ3ZlcnRuZXFxXCIsIFwiXFxcXGhhdHsje319XCIsIFwiXFxcXGhiYXJcIiwgXCJcXFxcaGJveFwiLCBcIlxcXFxoZWFydHN1aXRcIiwgXCJcXFxcaGZpbFwiLCBcIlxcXFxoZmlsbFwiLCBcIlxcXFxob21cIiwgXCJcXFxcaG9va2xlZnRhcnJvd1wiLCBcIlxcXFxob29rcmlnaHRhcnJvd1wiLCBcIlxcXFxocGhhbnRvbXsje319XCIsIFwiXFxcXGhza2lwXCIsIFwiXFxcXGhzbGFzaFwiLCBcIlxcXFxpZG90c2ludFwiLCBcIlxcXFxpZmZcIixcbiAgICAgICAgXCJcXFxcaWlpaW50XCIsIFwiXFxcXGlpaW50XCIsIFwiXFxcXGlpbnRcIiwgXCJcXFxcaW1hdGhcIiwgXCJcXFxcaW1wbGllZGJ5XCIsIFwiXFxcXGltcGxpZXNcIiwgXCJcXFxcaW5cIiwgXCJcXFxcaW5mXCIsIFwiXFxcXGluZnR5XCIsIFwiXFxcXGluamxpbVwiLCBcIlxcXFxpbnRcXFxcbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXGludGVyY2FsXCIsIFwiXFxcXGlvdGFcIiwgXCJcXFxcaXRcIiwgXCJcXFxcam1hdGhcIiwgXCJcXFxca2FwcGFcIiwgXCJcXFxca2VyXCIsIFwiXFxcXGtlcm5cIiwgXCJcXFxcbFZlcnRcIiwgXCJcXFxcbGFtYmRhXCIsIFwiXFxcXGxhbmRcIiwgXCJcXFxcbGFuZ2xlXCIsIFwiXFxcXGxicmFjZVwiLCBcIlxcXFxsYnJhY2tcIiwgXCJcXFxcbGNlaWxcIiwgXCJcXFxcbGRvdHBcIiwgXCJcXFxcbGRvdHNcIiwgXCJcXFxcbGVcIiwgXCJcXFxcbGVmdFwiLCBcIlxcXFxsZWZ0YXJyb3dcIiwgXCJcXFxcbGVmdGFycm93dGFpbFwiLCBcIlxcXFxsZWZ0aGFycG9vbmRvd25cIiwgXCJcXFxcbGVmdGhhcnBvb251cFwiLCBcIlxcXFxsZWZ0bGVmdGFycm93c1wiLCBcIlxcXFxsZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxsZWZ0cmlnaHRhcnJvd3NcIiwgXCJcXFxcbGVmdHJpZ2h0aGFycG9vbnNcIiwgXCJcXFxcbGVmdHJpZ2h0c3F1aWdhcnJvd1wiLCBcIlxcXFxsZWZ0cm9vdHsje319XCIsIFwiXFxcXGxlZnR0aHJlZXRpbWVzXCIsIFwiXFxcXGxlcVwiLCBcIlxcXFxsZXFhbGlnbm5veyN7fX1cIiwgXCJcXFxcbGVxcVwiLCBcIlxcXFxsZXFzbGFudFwiLCBcIlxcXFxsZXNzYXBwcm94XCIsIFwiXFxcXGxlc3Nkb3RcIiwgXCJcXFxcbGVzc2VxZ3RyXCIsIFwiXFxcXGxlc3NlcXFndHJcIiwgXCJcXFxcbGVzc2d0clwiLCBcIlxcXFxsZXNzc2ltXCIsIFwiXFxcXGxldHsje319eyN7fX1cIiwgXCJcXFxcbGZsb29yXCIsIFwiXFxcXGxnXCIsIFwiXFxcXGxncm91cFwiLCBcIlxcXFxsaGRcIiwgXCJcXFxcbGltXCIsIFwiXFxcXGxpbWluZlwiLCBcIlxcXFxsaW1pdHNfeyN7fX1eeyN7fX1cIiwgXCJcXFxcbGltc3VwXCIsIFwiXFxcXGxsXCIsIFwiXFxcXGxsYXB7I3t9fVwiLCBcIlxcXFxsbGNvcm5lclwiLCBcIlxcXFxsbGxcIiwgXCJcXFxcbG1vdXN0YWNoZVwiLFxuICAgICAgICBcIlxcXFxsblwiLCBcIlxcXFxsbmFwcHJveFwiLCBcIlxcXFxsbmVxXCIsIFwiXFxcXGxuZXFxXCIsIFwiXFxcXGxub3RcIiwgXCJcXFxcbG5zaW1cIiwgXCJcXFxcbG9nXCIsIFwiXFxcXGxvbmdsZWZ0YXJyb3dcIiwgXCJcXFxcbG9uZ2xlZnRyaWdodGFycm93XCIsIFwiXFxcXGxvbmdtYXBzdG9cIiwgXCJcXFxcbG9uZ3JpZ2h0YXJyb3dcIiwgXCJcXFxcbG9vcGFycm93bGVmdFwiLCBcIlxcXFxsb29wYXJyb3dyaWdodFwiLCBcIlxcXFxsb3JcIiwgXCJcXFxcbG93ZXJcIiwgXCJcXFxcbG96ZW5nZVwiLCBcIlxcXFxscmNvcm5lclwiLCBcIlxcXFxsdGltZXNcIiwgXCJcXFxcbHZlcnRcIiwgXCJcXFxcbHZlcnRuZXFxXCIsIFwiXFxcXG1hbHRlc2VcIiwgXCJcXFxcbWFwc3RvXCIsIFwiXFxcXG1hdGhiYnsje319XCIsIFwiXFxcXG1hdGhiZnsje319XCIsIFwiXFxcXG1hdGhiaW5cIiwgXCJcXFxcbWF0aGNhbHsje319XCIsIFwiXFxcXG1hdGhjaG9pY2VcIiwgXCJcXFxcbWF0aGNsb3NlXCIsIFwiXFxcXG1hdGhmcmFreyN7fX1cIiwgXCJcXFxcbWF0aGlubmVyXCIsIFwiXFxcXG1hdGhvcFwiLCBcIlxcXFxtYXRob3BlblwiLCBcIlxcXFxtYXRob3JkXCIsIFwiXFxcXG1hdGhwdW5jdFwiLCBcIlxcXFxtYXRocmVsXCIsIFwiXFxcXG1hdGhzdHJ1dFwiLCBcIlxcXFxtYXRyaXh7I3t9fVwiLCBcIlxcXFxtYXhcIiwgXCJcXFxcbWVhc3VyZWRhbmdsZVwiLCBcIlxcXFxtaG9cIiwgXCJcXFxcbWlkXCIsIFwiXFxcXG1pZGRsZVwiLCBcIlxcXFxtaW5cIiwgXCJcXFxcbWl0XCIsIFwiXFxcXG1rZXJuXCIsIFwiXFxcXG1vZFwiLCBcIlxcXFxtb2RlbHNcIiwgXCJcXFxcbW92ZWxlZnRcIiwgXCJcXFxcbW92ZXJpZ2h0XCIsIFwiXFxcXG1wXCIsIFwiXFxcXG1za2lwXCIsIFwiXFxcXG1zcGFjZXsje319XCIsIFwiXFxcXG11XCIsIFwiXFxcXG11bHRpbWFwXCIsIFwiXFxcXG5MZWZ0YXJyb3dcIiwgXCJcXFxcbkxlZnRyaWdodGFycm93XCIsIFwiXFxcXG5SaWdodGFycm93XCIsIFwiXFxcXG5WRGFzaFwiLCBcIlxcXFxuVmRhc2hcIiwgXCJcXFxcbmFibGFcIiwgXCJcXFxcbmF0dXJhbFwiLCBcIlxcXFxuY29uZ1wiLCBcIlxcXFxuZVwiLCBcIlxcXFxuZWFycm93XCIsIFwiXFxcXG5lZ1wiLCBcIlxcXFxuZWdtZWRzcGFjZVwiLFxuICAgICAgICBcIlxcXFxuZWd0aGlja3NwYWNlXCIsIFwiXFxcXG5lZ3RoaW5zcGFjZVwiLCBcIlxcXFxuZXFcIiwgXCJcXFxcbmV4aXN0c1wiLCBcIlxcXFxuZ2VxXCIsIFwiXFxcXG5nZXFxXCIsIFwiXFxcXG5nZXFzbGFudFwiLCBcIlxcXFxuZ3RyXCIsIFwiXFxcXG5pXCIsIFwiXFxcXG5sZWZ0YXJyb3dcIiwgXCJcXFxcbmxlZnRyaWdodGFycm93XCIsIFwiXFxcXG5sZXFcIiwgXCJcXFxcbmxlcXFcIiwgXCJcXFxcbmxlcXNsYW50XCIsIFwiXFxcXG5sZXNzXCIsIFwiXFxcXG5taWRcIiwgXCJcXFxcbm9saW1pdHNfeyN7fX1eeyN7fX1cIiwgXCJcXFxcbm90XCIsIFwiXFxcXG5vdGFnXCIsIFwiXFxcXG5vdGluXCIsIFwiXFxcXG5wYXJhbGxlbFwiLCBcIlxcXFxucHJlY1wiLCBcIlxcXFxucHJlY2VxXCIsIFwiXFxcXG5yaWdodGFycm93XCIsIFwiXFxcXG5zaG9ydG1pZFwiLCBcIlxcXFxuc2hvcnRwYXJhbGxlbFwiLCBcIlxcXFxuc2ltXCIsIFwiXFxcXG5zdWJzZXRlcVwiLCBcIlxcXFxuc3Vic2V0ZXFxXCIsIFwiXFxcXG5zdWNjXCIsIFwiXFxcXG5zdWNjZXFcIiwgXCJcXFxcbnN1cHNldGVxXCIsIFwiXFxcXG5zdXBzZXRlcXFcIiwgXCJcXFxcbnRyaWFuZ2xlbGVmdFwiLCBcIlxcXFxudHJpYW5nbGVsZWZ0ZXFcIiwgXCJcXFxcbnRyaWFuZ2xlcmlnaHRcIiwgXCJcXFxcbnRyaWFuZ2xlcmlnaHRlcVwiLCBcIlxcXFxudVwiLCBcIlxcXFxudkRhc2hcIiwgXCJcXFxcbnZkYXNoXCIsIFwiXFxcXG53YXJyb3dcIiwgXCJcXFxcb2RvdFwiLCBcIlxcXFxvaW50XCIsIFwiXFxcXG9sZHN0eWxlXCIsIFwiXFxcXG9tZWdhXCIsIFwiXFxcXG9taW51c1wiLCBcIlxcXFxvcGVyYXRvcm5hbWV7I3t9fVwiLCBcIlxcXFxvcGx1c1wiLCBcIlxcXFxvc2xhc2hcIiwgXCJcXFxcb3RpbWVzXCIsIFwiXFxcXG92ZXJcIiwgXCJcXFxcb3ZlcmJyYWNleyN7fX1cIiwgXCJcXFxcb3ZlcmxlZnRhcnJvd3sje319XCIsIFwiXFxcXG92ZXJsZWZ0cmlnaHRhcnJvd3sje319XCIsIFwiXFxcXG92ZXJsaW5leyN7fX1cIiwgXCJcXFxcb3ZlcnJpZ2h0YXJyb3d7I3t9fVwiLCBcIlxcXFxvdmVyc2V0eyN7fX17I3t9fVwiLCBcIlxcXFxvdmVyd2l0aGRlbGltc1wiLCBcIlxcXFxvd25zXCIsXG4gICAgICAgIFwiXFxcXHBhcmFsbGVsXCIsIFwiXFxcXHBhcnRpYWxcIiwgXCJcXFxccGVycFwiLCBcIlxcXFxwaGFudG9teyN7fX1cIiwgXCJcXFxccGhpXCIsIFwiXFxcXHBpXCIsIFwiXFxcXHBpdGNoZm9ya1wiLCBcIlxcXFxwbVwiLCBcIlxcXFxwbWF0cml4eyN7fX1cIiwgXCJcXFxccG1ieyN7fX1cIiwgXCJcXFxccG1vZFwiLCBcIlxcXFxwb2RcIiwgXCJcXFxccHJlY1wiLCBcIlxcXFxwcmVjYXBwcm94XCIsIFwiXFxcXHByZWNjdXJseWVxXCIsIFwiXFxcXHByZWNlcVwiLCBcIlxcXFxwcmVjbmFwcHJveFwiLCBcIlxcXFxwcmVjbmVxcVwiLCBcIlxcXFxwcmVjbnNpbVwiLCBcIlxcXFxwcmVjc2ltXCIsIFwiXFxcXHByaW1lXCIsIFwiXFxcXHByb2RcXFxcbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXHByb2psaW1cIiwgXCJcXFxccHJvcHRvXCIsIFwiXFxcXHBzaVwiLCBcIlxcXFxxcXVhZFwiLCBcIlxcXFxxdWFkXCIsIFwiXFxcXHJWZXJ0XCIsIFwiXFxcXHJhaXNlXCIsIFwiXFxcXHJhbmdsZVwiLCBcIlxcXFxyYnJhY2VcIiwgXCJcXFxccmJyYWNrXCIsIFwiXFxcXHJjZWlsXCIsIFwiXFxcXHJmbG9vclwiLCBcIlxcXFxyZ3JvdXBcIiwgXCJcXFxccmhkXCIsIFwiXFxcXHJob1wiLCBcIlxcXFxyaWdodFwiLCBcIlxcXFxyaWdodGFycm93XCIsIFwiXFxcXHJpZ2h0YXJyb3d0YWlsXCIsIFwiXFxcXHJpZ2h0aGFycG9vbmRvd25cIiwgXCJcXFxccmlnaHRoYXJwb29udXBcIiwgXCJcXFxccmlnaHRsZWZ0YXJyb3dzXCIsIFwiXFxcXHJpZ2h0bGVmdGhhcnBvb25zXCIsIFwiXFxcXHJpZ2h0cmlnaHRhcnJvd3NcIiwgXCJcXFxccmlnaHRzcXVpZ2Fycm93XCIsIFwiXFxcXHJpZ2h0dGhyZWV0aW1lc1wiLCBcIlxcXFxyaXNpbmdkb3RzZXFcIiwgXCJcXFxccmxhcHsje319XCIsIFwiXFxcXHJtXCIsIFwiXFxcXHJtb3VzdGFjaGVcIiwgXCJcXFxccm9vdCAje30gXFxcXG9mICN7fVwiLCBcIlxcXFxydGltZXNcIiwgXCJcXFxccnZlcnRcIiwgXCJcXFxcc2NyaXB0c2NyaXB0c3R5bGVcIiwgXCJcXFxcc2NyaXB0c3R5bGVcIiwgXCJcXFxcc2VhcnJvd1wiLCBcIlxcXFxzZWNcIiwgXCJcXFxcc2V0bWludXNcIiwgXCJcXFxcc2hhcnBcIiwgXCJcXFxcc2hvcnRtaWRcIixcbiAgICAgICAgXCJcXFxcc2hvcnRwYXJhbGxlbFwiLCBcIlxcXFxzaWRlc2V0eyN7fX17I3t9fXsje319XCIsIFwiXFxcXHNpZ21hXCIsIFwiXFxcXHNpbVwiLCBcIlxcXFxzaW1lcVwiLCBcIlxcXFxzaW5cIiwgXCJcXFxcc2luaFwiLCBcIlxcXFxza2V3eyN7fX17I3t9fXsje319XCIsIFwiXFxcXHNtYWxsZnJvd25cIiwgXCJcXFxcc21hbGxpbnRcIiwgXCJcXFxcc21hbGxzZXRtaW51c1wiLCBcIlxcXFxzbWFsbHNtaWxlXCIsIFwiXFxcXHNtYXNoeyN7fX1cIiwgXCJcXFxcc21pbGVcIiwgXCJcXFxcc3BhY2VcIiwgXCJcXFxcc3BhZGVzdWl0XCIsIFwiXFxcXHNwaGVyaWNhbGFuZ2xlXCIsIFwiXFxcXHNxY2FwXCIsIFwiXFxcXHNxY3VwXCIsIFwiXFxcXHNxcnR7I3t9fVwiLCBcIlxcXFxzcXN1YnNldFwiLCBcIlxcXFxzcXN1YnNldGVxXCIsIFwiXFxcXHNxc3Vwc2V0XCIsIFwiXFxcXHNxc3Vwc2V0ZXFcIiwgXCJcXFxcc3F1YXJlXCIsIFwiXFxcXHN0YXJcIiwgXCJcXFxcc3RydXRcIiwgXCJcXFxcc3Vic2V0XCIsIFwiXFxcXHN1YnNldGVxXCIsIFwiXFxcXHN1YnNldGVxcVwiLCBcIlxcXFxzdWJzZXRuZXFcIiwgXCJcXFxcc3Vic2V0bmVxcVwiLCBcIlxcXFxzdWJzdGFja3sje319XCIsIFwiXFxcXHN1Y2NcIiwgXCJcXFxcc3VjY2FwcHJveFwiLCBcIlxcXFxzdWNjY3VybHllcVwiLCBcIlxcXFxzdWNjZXFcIiwgXCJcXFxcc3VjY25hcHByb3hcIiwgXCJcXFxcc3VjY25lcXFcIiwgXCJcXFxcc3VjY25zaW1cIiwgXCJcXFxcc3VjY3NpbVwiLCBcIlxcXFxzdW1cXFxcbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXHN1cFwiLCBcIlxcXFxzdXBzZXRcIiwgXCJcXFxcc3Vwc2V0ZXFcIiwgXCJcXFxcc3Vwc2V0ZXFxXCIsIFwiXFxcXHN1cHNldG5lcVwiLCBcIlxcXFxzdXBzZXRuZXFxXCIsIFwiXFxcXHN1cmRcIiwgXCJcXFxcc3dhcnJvd1wiLCBcIlxcXFx0YWd7I3t9fVwiLCBcIlxcXFx0YW5cIiwgXCJcXFxcdGFuaFwiLCBcIlxcXFx0YXVcIiwgXCJcXFxcdGJpbm9teyN7fX17I3t9fVwiLCBcIlxcXFx0ZXh0eyN7fX1cIiwgXCJcXFxcdGV4dHN0eWxlXCIsIFwiXFxcXHRmcmFjeyN7fX17I3t9fVwiLCBcIlxcXFx0aGVyZWZvcmVcIiwgXCJcXFxcdGhldGFcIixcbiAgICAgICAgXCJcXFxcdGhpY2thcHByb3hcIiwgXCJcXFxcdGhpY2tzaW1cIiwgXCJcXFxcdGhpbnNwYWNlXCIsIFwiXFxcXHRpbGRleyN7fX1cIiwgXCJcXFxcdGltZXNcIiwgXCJcXFxcdG9cIiwgXCJcXFxcdG9wXCIsIFwiXFxcXHRyaWFuZ2xlXCIsIFwiXFxcXHRyaWFuZ2xlZG93blwiLCBcIlxcXFx0cmlhbmdsZWxlZnRcIiwgXCJcXFxcdHJpYW5nbGVsZWZ0ZXFcIiwgXCJcXFxcdHJpYW5nbGVxXCIsIFwiXFxcXHRyaWFuZ2xlcmlnaHRcIiwgXCJcXFxcdHJpYW5nbGVyaWdodGVxXCIsIFwiXFxcXHR0XCIsIFwiXFxcXHR3b2hlYWRsZWZ0YXJyb3dcIiwgXCJcXFxcdHdvaGVhZHJpZ2h0YXJyb3dcIiwgXCJcXFxcdWxjb3JuZXJcIiwgXCJcXFxcdW5kZXJicmFjZXsje319XCIsIFwiXFxcXHVuZGVybGVmdGFycm93eyN7fX1cIiwgXCJcXFxcdW5kZXJsZWZ0cmlnaHRhcnJvd3sje319XCIsIFwiXFxcXHVuZGVybGluZXsje319XCIsIFwiXFxcXHVuZGVycmlnaHRhcnJvd3sje319XCIsIFwiXFxcXHVuZGVyc2V0eyN7fX17I3t9fVwiLCBcIlxcXFx1bmxoZFwiLCBcIlxcXFx1bnJoZFwiLCBcIlxcXFx1cGFycm93XCIsIFwiXFxcXHVwZG93bmFycm93XCIsIFwiXFxcXHVwaGFycG9vbmxlZnRcIiwgXCJcXFxcdXBoYXJwb29ucmlnaHRcIiwgXCJcXFxcdXBsdXNcIiwgXCJcXFxcdXByb290eyN7fX1cIiwgXCJcXFxcdXBzaWxvblwiLCBcIlxcXFx1cHVwYXJyb3dzXCIsIFwiXFxcXHVyY29ybmVyXCIsIFwiXFxcXHZEYXNoXCIsIFwiXFxcXHZhckRlbHRhXCIsIFwiXFxcXHZhckdhbW1hXCIsIFwiXFxcXHZhckxhbWJkYVwiLCBcIlxcXFx2YXJPbWVnYVwiLCBcIlxcXFx2YXJQaGlcIiwgXCJcXFxcdmFyUGlcIiwgXCJcXFxcdmFyUHNpXCIsIFwiXFxcXHZhclNpZ21hXCIsIFwiXFxcXHZhclRoZXRhXCIsIFwiXFxcXHZhclVwc2lsb25cIiwgXCJcXFxcdmFyWGlcIiwgXCJcXFxcdmFyZXBzaWxvblwiLCBcIlxcXFx2YXJpbmpsaW1cIiwgXCJcXFxcdmFya2FwcGFcIiwgXCJcXFxcdmFybGltaW5mXCIsIFwiXFxcXHZhcmxpbXN1cFwiLCBcIlxcXFx2YXJub3RoaW5nXCIsIFwiXFxcXHZhcnBoaVwiLCBcIlxcXFx2YXJwaVwiLFxuICAgICAgICBcIlxcXFx2YXJwcm9qbGltXCIsIFwiXFxcXHZhcnByb3B0b1wiLCBcIlxcXFx2YXJyaG9cIiwgXCJcXFxcdmFyc2lnbWFcIiwgXCJcXFxcdmFyc3Vic2V0bmVxXCIsIFwiXFxcXHZhcnN1YnNldG5lcXFcIiwgXCJcXFxcdmFyc3Vwc2V0bmVxXCIsIFwiXFxcXHZhcnN1cHNldG5lcXFcIiwgXCJcXFxcdmFydGhldGFcIiwgXCJcXFxcdmFydHJpYW5nbGVcIiwgXCJcXFxcdmFydHJpYW5nbGVsZWZ0XCIsIFwiXFxcXHZhcnRyaWFuZ2xlcmlnaHRcIiwgXCJcXFxcdmNlbnRlclwiLCBcIlxcXFx2ZGFzaFwiLCBcIlxcXFx2ZWN7I3t9fVwiLCBcIlxcXFx2ZWVcIiwgXCJcXFxcdmVlYmFyXCIsIFwiXFxcXHZlcnRcIiwgXCJcXFxcdnBoYW50b217I3t9fVwiLCBcIlxcXFx3ZWRnZVwiLCBcIlxcXFx3aWRlaGF0eyN7fX1cIiwgXCJcXFxcd2lkZXRpbGRleyN7fX1cIiwgXCJcXFxcd3BcIiwgXCJcXFxcd3JcIiwgXCJcXFxceGlcIiwgXCJcXFxceGxlZnRhcnJvd3sje319XCIsIFwiXFxcXHhyaWdodGFycm93eyN7fX1cIiwgXCJcXFxcemV0YVwiLCBcIlxcXFxiZWdpbntkZWZpbml0aW9ufVwiLCBcIlxcXFxiZWdpbnt0aWt6Y2R9XCIsIFwiXFxcXGJlZ2lue3Rpa3pwaWN0dXJlfVwiLCBcIlxcXFxiZWdpbnthbGlnbn1cIiwgXCJcXFxcYmVnaW57YWxpZ24qfVwiLCBcIlxcXFxiZWdpbnthbGlnbmF0fVwiLCBcIlxcXFxiZWdpbnthbGlnbmF0Kn1cIiwgXCJcXFxcYmVnaW57YWxpZ25lZH1cIiwgXCJcXFxcYmVnaW57YWxpZ25lZGF0fVwiLCBcIlxcXFxiZWdpbnthcnJheX1cIiwgXCJcXFxcYmVnaW57Qm1hdHJpeH1cIiwgXCJcXFxcYmVnaW57Ym1hdHJpeH1cIiwgXCJcXFxcYmVnaW57Y2FzZXN9XCIsIFwiXFxcXGJlZ2lue0NEfVwiLCBcIlxcXFxiZWdpbntlcW5hcnJheX1cIiwgXCJcXFxcYmVnaW57ZXFuYXJyYXkqfVwiLCBcIlxcXFxiZWdpbntlcXVhdGlvbn1cIiwgXCJcXFxcYmVnaW57ZXF1YXRpb24qfVwiLCBcIlxcXFxiZWdpbntnYXRoZXJ9XCIsIFwiXFxcXGJlZ2lue2dhdGhlcip9XCIsIFwiXFxcXGJlZ2lue2dhdGhlcmVkfVwiLCBcIlxcXFxiZWdpbnttYXRyaXh9XCIsXG4gICAgICAgIFwiXFxcXGJlZ2lue211bHRsaW5lfVwiLCBcIlxcXFxiZWdpbnttdWx0bGluZSp9XCIsIFwiXFxcXGJlZ2lue3BtYXRyaXh9XCIsIFwiXFxcXGJlZ2lue3NtYWxsbWF0cml4fVwiLCBcIlxcXFxiZWdpbntzcGxpdH1cIiwgXCJcXFxcYmVnaW57c3ViYXJyYXl9XCIsIFwiXFxcXGJlZ2lue1ZtYXRyaXh9XCIsIFwiXFxcXGJlZ2lue3ZtYXRyaXh9XCJdXG59XG4iLCJpbXBvcnQge0NvbXBsZXRpb24sIFByb3ZpZGVyfSBmcm9tICcuL3Byb3ZpZGVycy9wcm92aWRlcidcbmltcG9ydCBMYXRleFByb3ZpZGVyIGZyb20gJy4vcHJvdmlkZXJzL2xhdGV4J1xuXG4vLyBUT0RPOiBSZWZhY3RvciBidXNpbmVzcyBsb2dpYyBpbnRvIG1vZHVsZVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0b2NvbXBsZXRlVmlldyB7XG4gIHByaXZhdGUgdmlldzogSFRNTEVsZW1lbnRcbiAgcHJpdmF0ZSBzaG93OiBib29sZWFuXG4gIHByaXZhdGUga2V5bWFwczogQ29kZU1pcnJvci5LZXlNYXBcbiAgcHJpdmF0ZSBvbkNsaWNrQ2FsbGJhY2s6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZFxuICBwcml2YXRlIHByb3ZpZGVyczogUHJvdmlkZXJbXVxuICBwcml2YXRlIHN1Z2dlc3Rpb25zOiBDb21wbGV0aW9uW11cbiAgcHJpdmF0ZSBzZWxlY3RlZDoge2luZGV4OiBudW1iZXIsIGRpcmVjdGlvbjogXCJmb3J3YXJkXCIgfCBcImJhY2t3YXJkXCIgfCBcInN0aWxsXCJ9XG4gIHByaXZhdGUgY3VycmVudFRleHQ/OiBzdHJpbmdcbiAgcHJpdmF0ZSBjdXJzb3JBdFRyaWdnZXI/OiBDb2RlTWlycm9yLlBvc2l0aW9uXG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2hvdyA9IGZhbHNlXG4gICAgdGhpcy5zdWdnZXN0aW9ucyA9IFtdXG4gICAgdGhpcy5wcm92aWRlcnMgPSBbbmV3IExhdGV4UHJvdmlkZXIoKV1cbiAgICB0aGlzLnNlbGVjdGVkID0ge2luZGV4OiAwLCBkaXJlY3Rpb246IFwic3RpbGxcIn1cbiAgfVxuXG4gIHB1YmxpYyBpc1Nob3duKCkge1xuICAgIHJldHVybiB0aGlzLnNob3dcbiAgfVxuXG4gIHB1YmxpYyBzaG93VmlldyhlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKSB7XG4gICAgdGhpcy5hZGRLZXliaW5kaW5ncyhlZGl0b3IpXG4gICAgdGhpcy5jdXJzb3JBdFRyaWdnZXIgPSBlZGl0b3IuZ2V0Q3Vyc29yKClcbiAgICB0aGlzLnNob3cgPSB0cnVlXG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlVmlldyhlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKTogdm9pZCB7XG4gICAgdGhpcy5zaG93ID0gZmFsc2VcbiAgICB0aGlzLmN1cnNvckF0VHJpZ2dlciA9IG51bGxcbiAgICB0aGlzLnNlbGVjdGVkID0ge2luZGV4OiAwLCBkaXJlY3Rpb246IFwic3RpbGxcIn1cblxuICAgIHRoaXMuYWRkS2V5YmluZGluZ3MoZWRpdG9yLCBmYWxzZSlcbiAgICB0aGlzLmRlc3Ryb3lWaWV3KGVkaXRvcilcbiAgfVxuXG4gIHB1YmxpYyBnZXRWaWV3KGN1cnJlbnRMaW5lOiBzdHJpbmcsIGVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3IpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgIGlmICghdGhpcy5zaG93KSByZXR1cm5cblxuICAgIGNvbnN0IHRleHQgPSB0aGlzLmNvbXBsZXRpb25Xb3JkKGN1cnJlbnRMaW5lLCBlZGl0b3IuZ2V0Q3Vyc29yKCkpXG5cbiAgICBsZXQgc2hvdWxkUmVyZW5kZXIgPSBmYWxzZVxuICAgIGlmICh0ZXh0ICE9PSB0aGlzLmN1cnJlbnRUZXh0KSB7XG4gICAgICB0aGlzLmN1cnJlbnRUZXh0ID0gdGV4dFxuICAgICAgc2hvdWxkUmVyZW5kZXIgPSB0cnVlXG5cbiAgICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSB0aGlzLnByb3ZpZGVycy5yZWR1Y2UoKGFjYywgcHJvdmlkZXIpID0+XG4gICAgICAgIGFjYy5jb25jYXQocHJvdmlkZXIubWF0Y2hXaXRoKHRleHQpKVxuICAgICAgICAsIFtdKVxuICAgICAgdGhpcy5zZWxlY3RlZCA9IHtpbmRleDogMCwgZGlyZWN0aW9uOiBcInN0aWxsXCJ9XG4gICAgfVxuXG4gICAgbGV0IGNhY2hlZFZpZXcgPSBmYWxzZVxuICAgIGlmICghdGhpcy52aWV3IHx8IHNob3VsZFJlcmVuZGVyKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lWaWV3KGVkaXRvcilcbiAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmdlbmVyYXRlVmlldyh0aGlzLnN1Z2dlc3Rpb25zKVxuICAgICAgdGhpcy5hZGRDbGlja0xpc3RlbmVyKHZpZXcsIGVkaXRvcilcblxuICAgICAgdGhpcy52aWV3ID0gdmlld1xuICAgIH0gZWxzZSBpZiAodGhpcy52aWV3LmZpcnN0RWxlbWVudENoaWxkKSB7XG4gICAgICBjYWNoZWRWaWV3ID0gdHJ1ZVxuICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLnZpZXcuZmlyc3RFbGVtZW50Q2hpbGQuY2hpbGRyZW5cbiAgICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkLmluZGV4XG5cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpbmRleF1cbiAgICAgICAgY2hpbGQudG9nZ2xlQ2xhc3MoJ2lzLXNlbGVjdGVkJywgaW5kZXggPT09IHNlbGVjdGVkSW5kZXgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlZFZpZXcgPyBudWxsIDogdGhpcy52aWV3XG4gIH1cblxuICBwdWJsaWMgc2Nyb2xsVG9TZWxlY3RlZCgpIHtcbiAgICBpZiAoIXRoaXMudmlldyB8fCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICAvLyBUT0RPOiBJbXByb3ZlIHNjcm9sbGluZyB3aXRoIHBhZ2Ugc2l6ZSBhbmQgYm91bmRhcmllc1xuXG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy52aWV3LmNoaWxkcmVuWzBdXG4gICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHRoaXMuc2VsZWN0ZWQuaW5kZXhcbiAgICBjb25zdCBjaGlsZCA9IHBhcmVudC5jaGlsZHJlblswXVxuICAgIGlmIChjaGlsZCkge1xuICAgICAgbGV0IHNjcm9sbEFtb3VudCA9IGNoaWxkLnNjcm9sbEhlaWdodCAqIHNlbGVjdGVkSW5kZXhcblxuICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkLmRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIFwiZm9yd2FyZFwiOlxuICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID09PSAwKSAvLyBFbmQgLT4gU3RhcnRcbiAgICAgICAgICAgIHBhcmVudC5zY3JvbGxUb3AgPSAwXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcGFyZW50LnNjcm9sbFRvcCA9IHNjcm9sbEFtb3VudFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgXCJiYWNrd2FyZFwiOlxuICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID09PSAodGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxKSkgLy8gRW5kIDwtIFN0YXJ0XG4gICAgICAgICAgICBwYXJlbnQuc2Nyb2xsVG9wID0gcGFyZW50LnNjcm9sbEhlaWdodFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHBhcmVudC5zY3JvbGxUb3AgPSBzY3JvbGxBbW91bnRcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZWxlY3ROZXh0KCkge1xuICAgIGNvbnN0IGluY3JlYXNlZCA9IHRoaXMuc2VsZWN0ZWQuaW5kZXggKyAxXG4gICAgdGhpcy5zZWxlY3RlZCA9IHtcbiAgICAgIGluZGV4OiBpbmNyZWFzZWQgPj0gdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggPyAwIDogaW5jcmVhc2VkLFxuICAgICAgZGlyZWN0aW9uOiBcImZvcndhcmRcIlxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZWxlY3RQcmV2aW91cygpIHtcbiAgICBjb25zdCBkZWNyZWFzZWQgPSB0aGlzLnNlbGVjdGVkLmluZGV4IC0gMVxuICAgIHRoaXMuc2VsZWN0ZWQgPSB7XG4gICAgICBpbmRleDogZGVjcmVhc2VkIDwgMCA/IHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoIC0gMSA6IGRlY3JlYXNlZCxcbiAgICAgIGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiXG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNlbGVjdFN1Z2dlc3Rpb24oZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcikge1xuICAgIGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKVxuICAgIGNvbnN0IFtzZWxlY3RlZCwgcmVwbGFjZUZyb20sIHJlcGxhY2VUb10gPSB0aGlzLmdldFNlbGVjdGVkQW5kUG9zaXRpb24oY3Vyc29yKVxuICAgIGVkaXRvci5vcGVyYXRpb24oKCkgPT4ge1xuICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShzZWxlY3RlZCwgcmVwbGFjZUZyb20sIHJlcGxhY2VUbylcblxuICAgICAgY29uc3QgbmV3Q3Vyc29yUG9zaXRpb24gPSByZXBsYWNlRnJvbS5jaCArIHNlbGVjdGVkLmxlbmd0aFxuICAgICAgY29uc3QgdXBkYXRlZEN1cnNvciA9IHtcbiAgICAgICAgbGluZTogY3Vyc29yLmxpbmUsXG4gICAgICAgIGNoOiBuZXdDdXJzb3JQb3NpdGlvblxuICAgICAgfVxuICAgICAgZWRpdG9yLnNldEN1cnNvcih1cGRhdGVkQ3Vyc29yKVxuICAgIH0pXG4gICAgdGhpcy5yZW1vdmVWaWV3KGVkaXRvcilcbiAgICBlZGl0b3IuZm9jdXMoKVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRLZXliaW5kaW5ncyhlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yLCBhZGQgPSB0cnVlKSB7XG4gICAgaWYgKCF0aGlzLmtleW1hcHMpXG4gICAgICB0aGlzLmtleW1hcHMgPSB7XG4gICAgICAgIC8vIE92ZXJyaWRlIGtleW1hcHMgYnV0IG1hbmFnZSB0aGVtIGludG8gXCJrZXl1cFwiIGV2ZW50XG4gICAgICAgIC8vIEJlY2F1c2UgbmVlZCB0byB1cGRhdGUgc2VsZWN0ZWRJbmRleCByaWdodCBiZWZvcmUgdXBkYXRpbmcgdmlld1xuICAgICAgICBcIkN0cmwtUFwiOiAoKSA9PiB7fSxcbiAgICAgICAgXCJDdHJsLU5cIjogKCkgPT4ge30sXG4gICAgICAgIERvd246ICgpID0+IHt9LFxuICAgICAgICBVcDogKCkgPT4ge30sXG4gICAgICAgIEVudGVyOiAoZWRpdG9yKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKGVkaXRvcilcbiAgICAgICAgICB0aGlzLmFkZEtleWJpbmRpbmdzKGVkaXRvciwgZmFsc2UpXG4gICAgICAgIH0sXG4gICAgICAgIEVzYzogKGVkaXRvcikgPT4ge1xuICAgICAgICAgIHRoaXMucmVtb3ZlVmlldyhlZGl0b3IpXG4gICAgICAgICAgdGhpcy5hZGRLZXliaW5kaW5ncyhlZGl0b3IsIGZhbHNlKVxuICAgICAgICAgIGlmIChlZGl0b3IuZ2V0T3B0aW9uKCdrZXlNYXAnKSA9PT0gJ3ZpbS1pbnNlcnQnKVxuICAgICAgICAgICAgZWRpdG9yLm9wZXJhdGlvbigoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RlbWlycm9yL0NvZGVNaXJyb3IvYmxvYi9iZDM3YTk2ZDM2MmI4ZDkyODk1ZDM5NjBkNTY5MTY4ZWMzOWU0MTY1L2tleW1hcC92aW0uanMjTDUzNDFcbiAgICAgICAgICAgICAgY29uc3QgdmltID0gZWRpdG9yLnN0YXRlLnZpbVxuICAgICAgICAgICAgICB2aW0uaW5zZXJ0TW9kZSA9IGZhbHNlXG4gICAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24oJ2tleU1hcCcsICd2aW0nKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgIGlmIChhZGQpXG4gICAgICBlZGl0b3IuYWRkS2V5TWFwKHRoaXMua2V5bWFwcylcbiAgICBlbHNlIC8vIFJlbW92ZSBuZWVkcyBvYmplY3QgcmVmZXJlbmNlXG4gICAgICBlZGl0b3IucmVtb3ZlS2V5TWFwKHRoaXMua2V5bWFwcylcbiAgfVxuXG4gIC8vIFRPRE86IFJlZmFjdG9yXG4gIHByaXZhdGUgYWRkQ2xpY2tMaXN0ZW5lcih2aWV3OiBIVE1MRWxlbWVudCwgZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvciwgYWRkID0gdHJ1ZSkge1xuICAgIGlmICghdGhpcy5vbkNsaWNrQ2FsbGJhY2spXG4gICAgICB0aGlzLm9uQ2xpY2tDYWxsYmFjayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgIGxldCBoaW50SWQgPSBlbGVtZW50LmlkXG4gICAgICAgIGlmICghaGludElkKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuaWQpXG4gICAgICAgICAgICBoaW50SWQgPSBwYXJlbnQuaWRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhpbnRJZFByZWZpeCA9ICdzdWdnZXN0aW9uLSdcbiAgICAgICAgaWYgKGhpbnRJZCAmJiBoaW50SWQuc3RhcnRzV2l0aChoaW50SWRQcmVmaXgpKSB7XG4gICAgICAgICAgaGludElkID0gaGludElkLnJlcGxhY2UoaGludElkUHJlZml4LCAnJylcbiAgICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGhpbnRJZClcbiAgICAgICAgICBpZiAoaWQgJiYgaWQgPiAwICYmIGlkIDwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSBpZFxuICAgICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKGVkaXRvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIGlmIChhZGQpXG4gICAgICB2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrQ2FsbGJhY2spXG4gICAgZWxzZVxuICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja0NhbGxiYWNrKVxuXG4gICAgcmV0dXJuIHZpZXdcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2VsZWN0ZWRBbmRQb3NpdGlvbihjdXJzb3I6IENvZGVNaXJyb3IuUG9zaXRpb24pOiBbc3RyaW5nLCBDb2RlTWlycm9yLlBvc2l0aW9uLCBDb2RlTWlycm9yLlBvc2l0aW9uXSB7XG4gICAgY29uc3QgdGV4dEVuZEluZGV4ID0gY3Vyc29yLmNoXG4gICAgY29uc3QgdXBkYXRlZEN1cnNvckZyb20gPSB7XG4gICAgICBsaW5lOiB0aGlzLmN1cnNvckF0VHJpZ2dlci5saW5lLFxuICAgICAgY2g6IHRoaXMuY3Vyc29yQXRUcmlnZ2VyLmNoXG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRDdXJzb3JUbyA9IHtcbiAgICAgIGxpbmU6IHRoaXMuY3Vyc29yQXRUcmlnZ2VyLmxpbmUsXG4gICAgICBjaDogdGV4dEVuZEluZGV4XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnN1Z2dlc3Rpb25zW3RoaXMuc2VsZWN0ZWQuaW5kZXhdXG5cbiAgICByZXR1cm4gW3NlbGVjdGVkLnZhbHVlLCB1cGRhdGVkQ3Vyc29yRnJvbSwgdXBkYXRlZEN1cnNvclRvXVxuICB9XG5cbiAgcHJpdmF0ZSBkZXN0cm95VmlldyhlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKSB7XG4gICAgaWYgKCF0aGlzLnZpZXcpIHJldHVyblxuXG4gICAgdGhpcy5hZGRDbGlja0xpc3RlbmVyKHRoaXMudmlldywgZWRpdG9yLCBmYWxzZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJlbnROb2RlID0gdGhpcy52aWV3LnBhcmVudE5vZGVcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZWQgPSBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldylcbiAgICAgICAgaWYgKHJlbW92ZWQpXG4gICAgICAgICAgdGhpcy52aWV3ID0gbnVsbFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYENhbm5vdCBkZXN0cm95IHZpZXcuIFJlYXNvbjogJHtlfWApXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVZpZXcoc3VnZ2VzdGlvbnM6IENvbXBsZXRpb25bXSkge1xuICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkLmluZGV4XG4gICAgY29uc3Qgc3VnZ2VzdGlvbnNIdG1sID0gc3VnZ2VzdGlvbnMubWFwKCh0aXA6IENvbXBsZXRpb24sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXhcbiAgICAgIHJldHVybiBgXG4gICAgICAgIDxkaXYgaWQ9XCJzdWdnZXN0aW9uLSR7aW5kZXh9XCIgY2xhc3M9XCJuby1zcGFjZS13cmFwIHN1Z2dlc3Rpb24taXRlbSR7aXNTZWxlY3RlZCA/ICcgaXMtc2VsZWN0ZWQnIDogJyd9XCI+XG4gICAgICAgICAgPGRpdiBpZD1cInN1Z2dlc3Rpb24tJHtpbmRleH1cIiBjbGFzcz1cInN1Z2dlc3Rpb24tY29udGVudFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VnZ2VzdGlvbi1mbGFpclwiPiR7dGlwLmNhdGVnb3J5fTwvc3Bhbj5cbiAgICAgICAgICAke3RpcC52YWx1ZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgXG4gICAgfSwgW10pXG4gICAgY29uc3Qgdmlld1N0cmluZyA9IGBcbiAgICAgIDxkaXYgaWQ9XCJzdWdnZXN0aW9uLWxpc3RcIiBjbGFzcz1cInN1Z2dlc3Rpb25cIj5cbiAgICAgICAgJHtzdWdnZXN0aW9uc0h0bWwuam9pbignXFxuJyl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInByb21wdC1pbnN0cnVjdGlvbi1jb21tYW5kXCI+Q3RybCtOPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPk5leHQgU3VnZ2VzdGlvbjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInByb21wdC1pbnN0cnVjdGlvbi1jb21tYW5kXCI+Q3RybCtQPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPlByZXZpb3VzIFN1Z2dlc3Rpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWluc3RydWN0aW9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb24tY29tbWFuZFwiPkVudGVyPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPlNlbGVjdCBTdWdnZXN0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGBcbiAgICBjb25zdCBjb250YWluZXJOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIGlmIChzdWdnZXN0aW9uc0h0bWwubGVuZ3RoID4gMCkge1xuICAgICAgY29udGFpbmVyTm9kZS5hZGRDbGFzcyhcInN1Z2dlc3Rpb24tY29udGFpbmVyXCIpXG4gICAgICBjb250YWluZXJOb2RlLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdmlld1N0cmluZylcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGFpbmVyTm9kZVxuICB9XG5cbiAgcHJpdmF0ZSBjb21wbGV0aW9uV29yZChjdXJyZW50TGluZTogc3RyaW5nLCBjdXJzb3I6IENvZGVNaXJyb3IuUG9zaXRpb24pOiBzdHJpbmcgfCBudWxsIHtcbiAgICBjb25zdCB3b3JkID0gY3VycmVudExpbmUuc3Vic3RyaW5nKHRoaXMuY3Vyc29yQXRUcmlnZ2VyLmNoLCBjdXJzb3IuY2gpXG5cbiAgICByZXR1cm4gd29yZFxuICB9XG59XG4iLCJpbXBvcnQge01hcmtkb3duVmlldywgUGx1Z2lufSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCBBdXRvY29tcGxldGVWaWV3IGZyb20gJy4vYXV0b2NvbXBsZXRlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRvY29tcGxldGVQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBwcml2YXRlIGF1dG9jb21wbGV0ZVZpZXc6IEF1dG9jb21wbGV0ZVZpZXdcbiAgcHJpdmF0ZSBrZXl1cExpc3RlbmVyOiAoY206IENvZGVNaXJyb3IuRWRpdG9yLCBldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZFxuICBwcml2YXRlIGxhc3RVc2VkRWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvclxuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBjb25zb2xlLmxvZygnTG9hZGluZyBPYnNpZGlhbiBBdXRvY29tcGxldGUuLi4nKVxuICAgIHRoaXMuYXV0b2NvbXBsZXRlVmlldyA9IG5ldyBBdXRvY29tcGxldGVWaWV3KClcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2F1dG9jb21wbGV0ZS10b2dnbGUnLFxuICAgICAgbmFtZTogJ1RvZ2dsZSBBdXRvY29tcGxldGUnLFxuICAgICAgaG90a2V5czogW3tcbiAgICAgICAgbW9kaWZpZXJzOiBbXCJDdHJsXCJdLFxuICAgICAgICBrZXk6IFwiIFwiXG4gICAgICB9XSxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuZ2V0Q3VycmVudEVkaXRvcigpXG5cbiAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgIGNvbnN0IGF1dG9jb21wbGV0ZSA9IHRoaXMuYXV0b2NvbXBsZXRlVmlld1xuXG4gICAgICAgICAgdGhpcy51cGRhdGVFZGl0b3JJZkNoYW5nZWQoZWRpdG9yLCBhdXRvY29tcGxldGUpXG5cbiAgICAgICAgICAvLyBEbyBub3Qgb3BlbiBvbiB2aW0gbm9ybWFsIG1vZGVcbiAgICAgICAgICBpZiAoZWRpdG9yLmdldE9wdGlvbigna2V5TWFwJykgPT09ICd2aW0nKSByZXR1cm5cblxuICAgICAgICAgIGlmIChhdXRvY29tcGxldGUuaXNTaG93bigpKVxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlLnJlbW92ZVZpZXcoZWRpdG9yKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZS5zaG93VmlldyhlZGl0b3IpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5rZXl1cExpc3RlbmVyID0gKGNtOiBDb2RlTWlycm9yLkVkaXRvciwgZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGF1dG9jb21wbGV0ZSA9IHRoaXMuYXV0b2NvbXBsZXRlVmlld1xuXG4gICAgICB0aGlzLnVwZGF0ZUVkaXRvcklmQ2hhbmdlZChjbSwgYXV0b2NvbXBsZXRlKVxuXG4gICAgICBjb25zdCBjdXJzb3IgPSBjbS5nZXRDdXJzb3IoKVxuICAgICAgY29uc3QgY3VycmVudExpbmVOdW1iZXIgPSBjdXJzb3IubGluZVxuICAgICAgY29uc3QgY3VycmVudExpbmU6IHN0cmluZyA9IGNtLmdldExpbmUoY3VycmVudExpbmVOdW1iZXIpXG5cblxuICAgICAgLy8gTmVlZCB0byB1cGRhdGUgcHJldmlvdXMvbmV4dCBzdGF0ZSBoZXJlLFxuICAgICAgLy8gb3RoZXJ3aXNlIHRoZSB2aWV3IGlzIG5vdCB1cGRhdGVkIGNvcnJlY3RseVxuICAgICAgLy8gKEJlY2F1c2UgSSdtIHRyeWluZyB0byBjYWNoZSBpdClcbiAgICAgIC8vIE1pc3NpbmcgcGF0dGVybiBtYXRjaGluZyB3aXRoIGFycmF5cyA6KFxuICAgICAgc3dpdGNoIChgJHtldmVudC5jdHJsS2V5fSAke2V2ZW50LmtleX1gKSB7XG4gICAgICAgIGNhc2UgXCJ0cnVlIHBcIjpcbiAgICAgICAgICBhdXRvY29tcGxldGUuc2VsZWN0UHJldmlvdXMoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgXCJ0cnVlIG5cIjpcbiAgICAgICAgICBhdXRvY29tcGxldGUuc2VsZWN0TmV4dCgpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSBcImZhbHNlIEFycm93VXBcIjpcbiAgICAgICAgICBhdXRvY29tcGxldGUuc2VsZWN0UHJldmlvdXMoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgXCJmYWxzZSBBcnJvd0Rvd25cIjpcbiAgICAgICAgICBhdXRvY29tcGxldGUuc2VsZWN0TmV4dCgpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXV0b2NvbXBsZXRlVmlldyA9IGF1dG9jb21wbGV0ZS5nZXRWaWV3KGN1cnJlbnRMaW5lLCBjbSlcblxuICAgICAgaWYgKGF1dG9jb21wbGV0ZVZpZXcpXG4gICAgICAgIHRoaXMuYXBwZW5kV2lkZ2V0KGNtLCBhdXRvY29tcGxldGVWaWV3KVxuXG4gICAgICBhdXRvY29tcGxldGUuc2Nyb2xsVG9TZWxlY3RlZCgpXG4gICAgfVxuXG4gICAgdGhpcy5yZWdpc3RlckNvZGVNaXJyb3IoZWRpdG9yID0+IHtcbiAgICAgIGVkaXRvci5vbigna2V5dXAnLCB0aGlzLmtleXVwTGlzdGVuZXIpXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIG9udW5sb2FkKCkge1xuICAgIGNvbnN0IHdvcmtzcGFjZSA9IHRoaXMuYXBwLndvcmtzcGFjZVxuICAgIHdvcmtzcGFjZS5pdGVyYXRlQ29kZU1pcnJvcnMoY20gPT4ge1xuICAgICAgY20ub2ZmKCdrZXl1cCcsIHRoaXMua2V5dXBMaXN0ZW5lcilcbiAgICAgIHRoaXMuYXV0b2NvbXBsZXRlVmlldy5yZW1vdmVWaWV3KGNtKVxuICAgIH0pXG4gICAgY29uc29sZS5sb2coJ1VubG9hZGVkIE9ic2lkaWFuIEF1dG9jb21wbGV0ZScpXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUVkaXRvcklmQ2hhbmdlZChlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yLCBhdXRvY29tcGxldGU6IEF1dG9jb21wbGV0ZVZpZXcpIHtcbiAgICBpZiAoIXRoaXMubGFzdFVzZWRFZGl0b3IpXG4gICAgICB0aGlzLmxhc3RVc2VkRWRpdG9yID0gZWRpdG9yXG5cbiAgICBpZiAoZWRpdG9yICE9PSB0aGlzLmxhc3RVc2VkRWRpdG9yKSB7XG4gICAgICBhdXRvY29tcGxldGUucmVtb3ZlVmlldyh0aGlzLmxhc3RVc2VkRWRpdG9yKVxuICAgICAgdGhpcy5sYXN0VXNlZEVkaXRvciA9IGVkaXRvclxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXBwZW5kV2lkZ2V0KGVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3IsIHZpZXc6IEhUTUxFbGVtZW50LCBzY3JvbGxhYmxlID0gdHJ1ZSkge1xuICAgIGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKVxuXG4gICAgZWRpdG9yLmFkZFdpZGdldCh7Y2g6IGN1cnNvci5jaCwgbGluZTogY3Vyc29yLmxpbmV9LCB2aWV3LCBzY3JvbGxhYmxlKVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDdXJyZW50RWRpdG9yKCk6IENvZGVNaXJyb3IuRWRpdG9yIHwgbnVsbCB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldylcblxuICAgIHJldHVybiB2aWV3ID8gdmlldy5zb3VyY2VNb2RlLmNtRWRpdG9yIDogbnVsbFxuICB9XG59XG4iXSwibmFtZXMiOlsiTWFya2Rvd25WaWV3IiwiUGx1Z2luIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGFBQWEsR0FBRyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDbkMsSUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLGNBQWM7QUFDekMsU0FBUyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsWUFBWSxLQUFLLElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQ3BGLFFBQVEsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQzFHLElBQUksT0FBTyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUNGO0FBQ08sU0FBUyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUNoQyxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDeEIsSUFBSSxTQUFTLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEVBQUU7QUFDM0MsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsS0FBSyxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3pGLENBQUM7QUF1Q0Q7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7QUFDaEgsSUFBSSxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDL0QsUUFBUSxTQUFTLFNBQVMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ25HLFFBQVEsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ3RHLFFBQVEsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsTUFBTSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFO0FBQ3RILFFBQVEsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFVBQVUsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQzlFLEtBQUssQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUNEO0FBQ08sU0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUMzQyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDckgsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxNQUFNLEtBQUssVUFBVSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsV0FBVyxFQUFFLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM3SixJQUFJLFNBQVMsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ3RFLElBQUksU0FBUyxJQUFJLENBQUMsRUFBRSxFQUFFO0FBQ3RCLFFBQVEsSUFBSSxDQUFDLEVBQUUsTUFBTSxJQUFJLFNBQVMsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0FBQ3RFLFFBQVEsT0FBTyxDQUFDLEVBQUUsSUFBSTtBQUN0QixZQUFZLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3pLLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNwRCxZQUFZLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN6QixnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsTUFBTTtBQUM5QyxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO0FBQ3hFLGdCQUFnQixLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO0FBQ2pFLGdCQUFnQixLQUFLLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxTQUFTO0FBQ2pFLGdCQUFnQjtBQUNoQixvQkFBb0IsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRTtBQUNoSSxvQkFBb0IsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtBQUMxRyxvQkFBb0IsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtB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
